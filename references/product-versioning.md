# 产品版本迭代规划

本文档说明如何在产品管理中使用版本迭代规划，包括版本规划、用户故事版本化、测试用例版本化。

## 1. 版本类型定义

| 类型 | 格式 | 用途 | 示例 |
|------|------|------|------|
| 产品版本 | v1, v2, v3 | 版本规划，用户故事 | v1.0 (MVP), v1.1, v2.0 |
| 技术版本 | v1.0.0 (SemVer) | 代码发布，依赖管理 | v1.0.0, v1.1.0 |

## 2. 版本规划流程

```
1. 愿景定义 → 2. 版本目标 → 3. 范围定义 → 4. 迭代计划
```

### 2.1 愿景定义

```markdown
## 愿景

**产品愿景**: [一句话描述产品愿景]
**目标用户**: [目标用户群体]
**核心价值**: [为用户解决什么问题]
```

### 2.2 版本目标

```markdown
## 版本路线图

| 版本 | 名称 | 目标 | 用户故事数 | 优先级 |
|------|------|------|-----------|--------|
| v1.0 | MVP | 核心功能上线 | 5-8 | Must |
| v1.1 | 增强 | 用户体验优化 | 6-10 | Should |
| v1.2 | 扩展 | 新功能引入 | 8-12 | Could |
```

### 2.3 依赖图

```
v1.0: US-001, US-002, US-003
  ↓
v1.1: US-004 (依赖US-001), US-005
  ↓
v1.2: US-006 (依赖v1.1), US-007
```

## 3. 版本化用户故事模板

### 3.1 用户故事ID规范

```
US-{产品版本}-{序号}: {故事名称}
如: US-001, US-101, US-201
```

- v1.0: US-001 ~ US-099
- v1.1: US-101 ~ US-199
- v2.0: US-201 ~ US-299

### 3.2 完整模板

```markdown
### US-{产品版本}-{序号}: {故事名称}

**Epic**: {Epic名称}
**产品版本**: v{product_version} (如 v1, v2)
**技术版本**: v{technical_version} (如 v1.0.0)
**优先级**: {Must|Should|Could|Won't}
**迭代**: {Sprint N}

**用户故事**: 作为 [{role}]，我希望 [{feature}]，以便 [{value}]。

**前置条件**: {条件描述}
**后置条件**: {条件描述}

**验收标准**:
- [ ] **正向流程**: {描述}
- [ ] **边界校验**: {描述}
- [ ] **错误处理**: {描述}
- [ ] **成功反馈**: {描述}
- [ ] **性能要求**: {描述}
- [ ] **权限控制**: {描述}

**依赖**:
- 前置依赖: US-{dep}-*
- 后置依赖: US-{dep}-*

**测试用例**: TC-{version}-{id}-*
```

## 4. 版本化测试用例模板

### 4.1 测试用例ID规范

```
TC-{产品版本}-{用户故事ID}-{序号}
如: TC-v1-US001-01
```

### 4.2 完整模板

```markdown
## 测试用例：{功能名称} (v{version})

### 版本信息
- **产品版本**: v{product_version}
- **技术版本**: v{technical_version}
- **Sprint**: Sprint {N}
- **用户故事**: US-{version}-{id}
- **用例状态**: {冒烟|新增|回归}

### 用例汇总
| 类别 | 用例数 | 冒烟 | 新增 | 回归 |
|------|-------|------|------|------|
| 冒烟测试 | X | X | - | - |
| 功能测试 | X | - | X | X |
| 边界测试 | X | - | X | X |
| 异常测试 | X | - | X | X |
| UI测试 | X | - | X | X |
| 性能测试 | X | - | X | X |
| 权限测试 | X | - | X | X |

### 1. 功能测试用例（正向流程）

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|--------|---------|---------|---------|---------|
| TC-v1-US001-01 | {名称} | {条件} | {步骤} | {结果} |

### 2. 边界值测试用例

| 用例ID | 字段 | 边界值 | 预期结果 |
|--------|------|-------|---------|
| TC-v1-US001-02 | {字段} | {值} | {结果} |

### 3. 异常场景测试用例

| 用例ID | 异常场景 | 触发条件 | 预期结果 |
|--------|---------|---------|---------|
| TC-v1-US001-03 | {场景} | {条件} | {结果} |
```

## 5. Sprint 规划

### 5.1 Sprint 规划模板

| Sprint | 版本 | 用户故事 | 目标 | 故事点数 |
|--------|------|---------|------|---------|
| Sprint 1 | v1.0 | US-001, US-002 | 核心流程 | 8 |
| Sprint 2 | v1.0 | US-003, US-004 | 边界处理 | 5 |
| Sprint 3 | v1.1 | US-101, US-102 | 体验优化 | 6 |

### 5.2 版本发布条件

```markdown
## v{version} 发布条件

### 必须完成 (Must)
- [ ] 所有 Must 优先级用户故事通过
- [ ] 冒烟测试通过（Go/No-Go）
- [ ] 功能测试用例 100% 通过
- [ ] 回归测试通过

### 最好完成 (Should)
- [ ] 所有 Should 优先级用户故事通过

### 可以完成 (Could)
- [ ] 根据 Sprint 剩余容量决定
```

## 6. 与现有工作流整合

### 6.1 产品思考 → 版本规划

```
产品思考 (5轮追问)
    ↓
生成用户故事 (含边界答案)
    ↓
MoSCoW 优先级排序
    ↓
版本规划 (按依赖排序)
    ↓
Sprint 分配
```

### 6.2 版本化输出

```markdown
## 版本 {version}: {versionName}

### 目标
{版本目标描述}

### 用户故事
[版本化用户故事列表]

### 测试用例
[版本化测试用例列表]
```

---

**版本**: 1.0
**更新日期**: 2026-02-19
