---
name: User Story Inheritance
description: 用户故事继承规则与状态标识定义
---

# 用户故事继承规则

## 概述

用户故事继承机制确保版本间用户故事的连续性，同时支持灵活的变更追踪。

## 状态标识定义

| 状态标识 | 含义 | 使用场景 |
|----------|------|----------|
| `[NEW]` | 新增 | 当前版本新创建的用户故事 |
| `[INHERITED]` | 继承 | 从上一版本自动继承，未修改 |
| `[MODIFIED]` | 变更 | 继承后有功能修改 |
| `[DEPRECATED]` | 废弃 | 当前版本不再实现 |
| `[COMPLETED]` | 完成 | 已完成开发测试，可回归验证 |

## 继承规则

### 默认行为

新版本创建时，用户故事自动从上一版本继承：

```
v{n}.x 用户故事 = v{n-1}.x 用户故事 (标记为 [INHERITED])
                + v{n}.x 新增用户故事 (标记为 [NEW])
                + v{n}.x 修改用户故事 (标记为 [MODIFIED])
                - v{n}.x 废弃用户故事 (标记为 [DEPRECATED])
```

### 手动调整

用户可以显式调整继承的用户故事状态：

1. **修改状态**: 将 `[INHERITED]` 改为 `[MODIFIED]`
2. **新增故事**: 添加 `[NEW]` 标记的用户故事
3. **标记废弃**: 将 `[INHERITED]` 改为 `[DEPRECATED]`

### 版本类型与用户故事

| 版本类型 | 用户故事策略 |
|----------|--------------|
| patch (x.y.Z) | 继承 + Bug修复验证 |
| minor (x.Y.0) | 继承 + 新增功能 |
| major (X.0.0) | 重新梳理，可能大幅变更 |

## 用户故事 ID 规则

- 格式: `US-{序号}`
- 序号: 4位数字，如 `US-0001`, `US-0002`
- 版本前缀（可选）: `v{version}-US-{序号}`

## 继承示例

### v1.0.0 用户故事

```markdown
## US-0001: 用户可以收藏商品

**版本**: v1.0.0
**优先级**: Must
**状态**: [NEW]

作为普通用户，我希望能够收藏商品，以便下次快速找到喜欢的商品。

### 验收标准
- [ ] 点击收藏按钮，商品进入收藏列表
- [ ] 收藏列表展示商品名称、图片、价格
```

### v1.0.1 用户故事（继承）

```markdown
## US-0001: 用户可以收藏商品

**版本**: v1.0.1
**优先级**: Must
**状态**: [INHERITED] (from v1.0.0)
**修改内容**: 优化了收藏列表加载性能

作为普通用户，我希望能够收藏商品，以便下次快速找到喜欢的商品。

### 验收标准
- [ ] 点击收藏按钮，商品进入收藏列表
- [ ] 收藏列表展示商品名称、图片、价格
- [ ] 收藏列表加载时间 < 500ms
```
