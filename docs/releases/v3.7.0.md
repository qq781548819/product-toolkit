# Product Toolkit v3.7.0 Release Notes

发布日期：2026-02-28

## Highlights

- 新增 PTK 统一 CLI 交互能力（status/run/debug/report/feedback/resume/doctor）。
- 引入 Scope Guard 约束与越界记录机制（deviations/confirmations）。
- 交付报告支持 dual-mode：
  - 人类可读：`summary.md`
  - 机器可读：`summary.json`
- 证据链收口标准化：
  - `raw-command-log.jsonl`
  - `evidence-manifest.json`
  - `gate-consistency-report.json`
- 完成 v3.7.0 元信息统一（README/SKILL/commands/plugin metadata）。
- 修复 run_id 冲突风险：改为“毫秒时间戳 + 随机后缀”。

## What’s Included

### CLI（v3.7.9 实现，服务于 v3.7.0 产品基线）

- `./ptk --version v3.7.0 status --board`
- `./ptk --version v3.7.0 run workflow --mode strict`
- `./ptk --version v3.7.0 report --human latest`
- `./ptk --version v3.7.0 report --machine latest`
- `./ptk --version v3.7.0 doctor --json`

### 文档与交付产物

- `docs/product/v3.7.0/prd/ptk-cli-scope-guard.md`
- `docs/product/v3.7.0/user-story/ptk-cli-scope-guard.md`
- `docs/product/v3.7.0/qa/test-cases/ptk-cli-scope-guard.md`
- `docs/product/v3.7.0/execution/boundaries.md`
- `docs/product/v3.7.0/execution/terminal.json`

## Validation

- 单元测试：`python3 -m unittest -q tests/test_ptk_cli.py scripts/tests/test_ptk_cli.py`
- Gate 收口：`./scripts/workflow_gate_autorun.sh --version v3.7.0 --terminal docs/product/v3.7.0/execution/terminal.json`
- doctor 校验：`./ptk --version v3.7.0 doctor --json`

## Commits

- `bd8ed13` feat(ptk): align v3.7.0 metadata and harden CLI run id generation
- `0cb9376` feat(ptk): add v3.7.0 scope-guard docs and evidence gate artifacts
- `26cd9fb` feat(ptk): implement v3.7.9 CLI interaction flow
